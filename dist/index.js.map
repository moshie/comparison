{"version":3,"file":"index.js","sourceRoot":"","sources":["../src/index.ts"],"names":[],"mappings":";;;AAEA,mCAAoC;AAUpC,kCAAmC;AACnC,+BAAgC;AAChC,IAAM,EAAE,GAAQ,OAAO,CAAC,YAAY,CAAC,UAAU,CAAC,CAAA;AAChD,IAAM,OAAO,GAAG,OAAO,CAAC,iBAAiB,CAAC,CAAC,OAAO,CAAC;AAMnD,OAAO;KACF,OAAO,CAAC,OAAO,CAAC;KAChB,OAAO,CAAC,wCAAwC,CAAC;KACjD,SAAS,CAAC,cAAc,CAAC;KACzB,MAAM,CAAC,UAAU,OAAO;IACrB,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IAGrB,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;QAC3B,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAA;QAC9B,OAAO,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACpB,CAAC;AAGL,CAAC,CAAC,CAAA;AAGN,OAAO,CAAC,KAAK,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC","sourcesContent":["#!/usr/bin/env node\n\nimport * as program from 'commander'\nimport {environmentsInterface} from './environments-interface'\nimport writeChunkToFile from './write-chunk-to-file'\nimport multiShot from './multi-shot'\nimport chunk from './chunk'\nimport checkPathsAreDirectories from './check-paths-are-directories'\nimport folderComparison from './folder-comparison'\nimport makeComparisonFolder from './make-comparison-folder'\n\nimport * as path from 'path'\nimport * as Promise from 'bluebird'\nimport * as fileSystem from 'fs'\nconst fs: any = Promise.promisifyAll(fileSystem)\nconst version = require('../package.json').version;\n\n// `shutter screenshots master=https://google.com development=https://dev.google.com test=https://test.google.com —config=~/config.yaml` <- config for predefined paths & other stuff\n// `shutter compare master development` <— will compare “prescreenshoted” sites\n// `shutter compare https://google.com https://dev.google.com` <— will crawl site, take screenshots then compare them\n\nprogram\n    .version(version)\n    .command('screenshots [domains...] Pass in your ')\n    .arguments('-c, --config')\n    .action(function (domains) {\n        console.log(domains);\n        // validate \n\n        if (domains.length % 2 !== 0) {\n            console.log('please specify ')\n            process.exit(1);\n        }\n\n        \n    })\n\n\nprogram.parse(process.argv);\n\n\n// compare copy master\n\n// CLI Validation must supply 2 paths to compare!\n\n// const cwd = process.cwd();\n// const comparisonOne = path.join(cwd, 'develop');\n// const comparisonTwo = path.join(cwd, 'master');\n\n// checkPathsAreDirectories(comparisonOne, comparisonTwo)\n//     .then(() => makeComparisonFolder(comparisonOne, comparisonTwo))\n//     .then(() => folderComparison(comparisonOne, comparisonTwo))\n//     .catch((error) => {\n//         console.log(error);\n//     });\n\n\n\n// screenshot master https://www.google.com/ copy https://dev.google.com/ test https://test.google.com/\n\n\n// const environments: environmentsInterface = {\n//     'master': 'https://www.serentipi.co.uk',\n//     'develop': 'https://www.serentipi.co.uk',\n//     'test': 'https://www.serentipi.co.uk'\n// }\n\n// // Crawl first domain get back list of paths\n\n// const paths: string[] = [\n//     '/',\n//     '/contact/',\n//     '/home',\n//     '/your-event/',\n//     '/weddings/',\n//     '/corporate/',\n//     '/private-functions/',\n//     '/our-story',\n//     '/gallery/',\n//     '/friends-venues/',\n//     '/open-days/',\n//     '/quote-me/'\n// ]\n\n// // Chunk paths \n\n// const chunks: string[][] = chunk(paths, 6);\n\n// // loop through each chunk add it to a file `chunk-{index}.json` then for each environment run screenshot:\n\n// Promise.map(chunks, (chunk: string[], index: number): Promise<string> => {\n//     let filename: string = path.join(__dirname, `chunk-${index}.json`);\n//     return writeChunkToFile(filename, JSON.stringify(chunk))\n//         .then((chunkFilename: string) => multiShot(environments, chunkFilename))\n//         .then((chunkFilename: string) => fs.unlinkAsync(chunkFilename))\n// }, {concurrency: 6})\n//     .catch((error: any) => {\n//         console.log(error)\n//     })\n"]}